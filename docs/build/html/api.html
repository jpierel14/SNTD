

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Documentation &mdash; SNTD 1.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Simulating with SNTD" href="examples.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SNTD
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Simulating with SNTD</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html#measuring-time-delays-with-sntd">Measuring Time Delays with SNTD</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-sntd.fitting">Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sntd.simulation">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sntd.curve_io">I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sntd.ml">Microlensing</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SNTD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="module-sntd.fitting">
<span id="fitting"></span><h2>Fitting<a class="headerlink" href="#module-sntd.fitting" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sntd.fitting.fit_data">
<code class="descclassname">sntd.fitting.</code><code class="descname">fit_data</code><span class="sig-paren">(</span><em>curves</em>, <em>snType='Ia'</em>, <em>bands=None</em>, <em>models=None</em>, <em>params=None</em>, <em>bounds={}</em>, <em>ignore=None</em>, <em>constants=None</em>, <em>method='separate'</em>, <em>t0_guess=None</em>, <em>refModel=None</em>, <em>effect_names=[]</em>, <em>effect_frames=[]</em>, <em>fitting_method='nest'</em>, <em>dust=None</em>, <em>flip=False</em>, <em>guess_amplitude=True</em>, <em>combinedError=None</em>, <em>showPlots=False</em>, <em>microlensing=None</em>, <em>kernel='RBF'</em>, <em>combinedGrids=None</em>, <em>refImage='image_1'</em>, <em>nMicroSamples=100</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/fitting.html#fit_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.fitting.fit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The main high-level fitting function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>curves</strong> (<a class="reference internal" href="#sntd.curve_io.curveDict" title="sntd.curve_io.curveDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">sntd.curve_io.curveDict</span></code></a>) – The curveDict object containing the multiple images to fit.</li>
<li><strong>snType</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The supernova classification</li>
<li><strong>bands</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code> or str) – The band(s) to be fit</li>
<li><strong>models</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="module-sntd.simulation">
<span id="simulation"></span><h2>Simulation<a class="headerlink" href="#module-sntd.simulation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sntd.simulation.createMultiplyImagedSN">
<code class="descclassname">sntd.simulation.</code><code class="descname">createMultiplyImagedSN</code><span class="sig-paren">(</span><em>sourcename, snType, redshift, telescopename='telescope', objectName='object', time_delays=[10.0, 50.0], magnifications=[2.0, 1.0], numImages=2, cadence=5, epochs=30, bands=['F105W', 'F125W', 'F160W'], gain=200.0, skynoiseRange=(1, 1.1), timeArr=None, zpsys='ab', zp=None, microlensing_type=None, microlensing_params=[], dust_model='CCM89Dust', av_host=0.3, av_lens=None, z_lens=None, minsnr=0.0, scatter=True, snrFunc=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/simulation.html#createMultiplyImagedSN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.simulation.createMultiplyImagedSN" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a multiply-imaged SN light curve set, with user-specified time
delays and magnifications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourcename</strong> (<cite>~sncosmo.Source</cite> or str) – The model for the spectral evolution of the source. If a string
is given, it is used to retrieve a <cite>~sncosmo.Source</cite> from
the registry.</li>
<li><strong>snType</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The classification of the supernova</li>
<li><strong>redshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Redshift of the source</li>
<li><strong>z_lens</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Redshift of the lens</li>
<li><strong>telescopename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the telescope used for observations</li>
<li><strong>objectName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the simulated supernova</li>
<li><strong>numImages</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of images to simulate</li>
<li><strong>time_delays</strong> (<em>list of float</em>) – The relative time delays for the multiple images of the supernova. Must
be same length as numImages</li>
<li><strong>magnifications</strong> (<em>list of float</em>) – The relative magnifications for the multiple images of hte supernova. Must
be same length as numImages</li>
<li><strong>timeArr</strong> (<em>list of float</em>) – A list of times that define the simulated observation epochs</li>
<li><strong>cadence</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The cadence of the simulated observations (if timeArr is not defined)</li>
<li><strong>epochs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of simulated observations (if timeArr is not defined)</li>
<li><strong>bands</strong> (list of <cite>~sncosmo.Bandpass</cite> or str) – The bandpass(es) used for simulated observations</li>
<li><strong>snrFunc</strong> (<cite>~scipy.interpolate.interp1d</cite>) – An interpolation function that defines the signal to noise ratio (SNR)
as a function of magnitude in the AB system. Used to define the
observations instead of telescope parameters like gain and skynoise</li>
<li><strong>gain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Gain of the telescope “obtaining” the simulated observations (if snrFunc
not defined)</li>
<li><strong>skynoiseRange</strong> (<em>list of float</em>) – The left and right bounds of sky noise used to define observational noise
(if snrFunc not defined)</li>
<li><strong>minsnr</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – A minimum SNR threshold for observations when defining uncertainty</li>
<li><strong>scatter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Boolean that decides whether Gaussian scatter is applied to simulated
observations</li>
<li><strong>zpsys</strong> (str or <cite>~sncosmo.MagSystem</cite>) – The zero-point system used to define the photometry</li>
<li><strong>zp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em> or </em><em>list of float</em>) – The zero-point used to define the photometry, list if simulating multiple
bandpasses. Then this list must be the same length as bands</li>
<li><strong>microlensing_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – If microlensing is to be included, defines whether it is
“AchromaticSplineMicrolensing” or “AchromaticMicrolensing”</li>
<li><strong>microlensing_params</strong> (<cite>~numpy.array</cite> or list of int) – If using AchromaticSplineMicrolensing, then this params list must give
three values for [nanchor, sigmadm, nspl]. If using AchromaticMicrolensing,
then this must be a microcaustic defined by a 2D numpy array</li>
<li><strong>dust_model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The dust model to be used for simulations, see sncosmo documentation for options</li>
<li><strong>av_host</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The A&lt;sub&gt;V&lt;/sub&gt; parameter for the simulated dust effect in the source plane</li>
<li><strong>av_lens</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The A&lt;sub&gt;V&lt;/sub&gt; parameter for the simulated dust effect in the lens plane</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>MISN</strong> – A curveDict object containing each of the multiply-imaged SN light curves
and the simulation parameters.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>~sntd.curveDict</cite></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">myMISN</span> <span class="o">=</span> <span class="n">sntd</span><span class="o">.</span><span class="n">createMultiplyImagedSN</span><span class="p">(</span><span class="s1">&#39;salt2&#39;</span><span class="p">,</span> <span class="s1">&#39;Ia&#39;</span><span class="p">,</span> <span class="mf">1.33</span><span class="p">,</span><span class="n">z_lens</span><span class="o">=.</span><span class="mi">53</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;F110W&#39;</span><span class="p">],</span>
<span class="go">    zp=[26.8], cadence=5., epochs=35.,skynoiseRange=(.001,.005),gain=70. , time_delays=[10., 78.],</span>
<span class="go">    magnifications=[7,3.5], objectName=&#39;My Type Ia SN&#39;, telescopename=&#39;HST&#39;,minsnr=5.0)</span>
</pre></div>
</div>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="module-sntd.curve_io">
<span id="i-o"></span><h2>I/O<a class="headerlink" href="#module-sntd.curve_io" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sntd.curve_io.curve">
<em class="property">class </em><code class="descclassname">sntd.curve_io.</code><code class="descname">curve</code><span class="sig-paren">(</span><em>zpsys='AB'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.curve" title="Permalink to this definition">¶</a></dt>
<dd><p>SNTD class that describes each image of a MISN</p>
<dl class="attribute">
<dt id="sntd.curve_io.curve.bands">
<code class="descname">bands</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curve.bands" title="Permalink to this definition">¶</a></dt>
<dd><p>string
&#64;ivar: band names, used</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sntd.curve_io.curve.meta">
<code class="descname">meta</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curve.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>dict
&#64;ivar: The metadata for the curveDict object, intialized with an empty “info” key value pair. It’s
populated by added _metachar__ characters into the header of your data file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sntd.curve_io.curve.table">
<code class="descname">table</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curve.table" title="Permalink to this definition">¶</a></dt>
<dd><p>~astropy.table.Table
&#64;ivar: A table containing the data, used for SNCosmo functions, etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sntd.curve_io.curve.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#curve.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.curve.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply extends the superclass version of validate to include flux
:param verbose: Default=False -&gt; won’t print “Validation done!”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sntd.curve_io.curveDict">
<em class="property">class </em><code class="descclassname">sntd.curve_io.</code><code class="descname">curveDict</code><span class="sig-paren">(</span><em>telescopename='Unknown'</em>, <em>object='Unknown'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#curveDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.curveDict" title="Permalink to this definition">¶</a></dt>
<dd><p>The main object for SNTD. This organizes a MISN, containing
the multiple light curves in self.images, all the fits, etc.
See documentation for a flowchart of this object.</p>
<dl class="method">
<dt id="sntd.curve_io.curveDict.add_curve">
<code class="descname">add_curve</code><span class="sig-paren">(</span><em>myCurve</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#curveDict.add_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.curveDict.add_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a curve object to the existing curveDict (i.e. adds
an image to a MISN)</p>
</dd></dl>

<dl class="attribute">
<dt id="sntd.curve_io.curveDict.bands">
<code class="descname">bands</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curveDict.bands" title="Permalink to this definition">¶</a></dt>
<dd><p>list
&#64;ivar: The list of bands contained inside this curveDict</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sntd.curve_io.curveDict.combine_curves">
<code class="descname">combine_curves</code><span class="sig-paren">(</span><em>time_delays=None</em>, <em>magnifications=None</em>, <em>referenceImage='image_1'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#curveDict.combine_curves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.curveDict.combine_curves" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Takes the multiple images in self.images and combines</dt>
<dd>the data into a single light curve using defined
time delays and magnifications or best (quick) guesses.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time_delays</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Dictionary with image names as keys and relative time
delays as values (e.g. {‘image_1’:0,’image_2’:20})</li>
<li><strong>magnifications</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Dictionary with image names as keys and relative
magnifications as values (e.g.
{‘image_1’:1,’image_2’:1.1})</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#sntd.curve_io.curveDict" title="sntd.curve_io.curveDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">sntd.curve_io.curveDict</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sntd.curve_io.curveDict.meta">
<code class="descname">meta</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curveDict.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>dict
&#64;ivar: The metadata for the curveDict object, intialized with an empty “info” key value pair. It’s
populated by added _metachar__ characters into the header of your data file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sntd.curve_io.curveDict.object">
<code class="descname">object</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curveDict.object" title="Permalink to this definition">¶</a></dt>
<dd><p>str
&#64;ivar: Object of interest</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sntd.curve_io.curveDict.plot_object">
<code class="descname">plot_object</code><span class="sig-paren">(</span><em>bands='all'</em>, <em>savefig=False</em>, <em>filename='mySN'</em>, <em>orientation='horizontal'</em>, <em>method='separate'</em>, <em>showModel=False</em>, <em>showFit=False</em>, <em>showMicro=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#curveDict.plot_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.curveDict.plot_object" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Plot the multiply-imaged SN light curves and show/save to a file.</dt>
<dd>Each subplot shows a single-band light curve, for all images of the SN.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bands</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>list of str</em>) – ‘all’ = plot all bands; or provide a list of bands to plot</li>
<li><strong>savefig</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – boolean to save or not save plot</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – if savefig is True, this is the output filename</li>
<li><strong>orientation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘horizontal’ = all subplots are in a single row
‘vertical’ = all subplots are in a single column</li>
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Plots the result of separate, combined, or color curve method</li>
<li><strong>showModel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If true, the underlying model before microlensing is plotted
as well</li>
<li><strong>showFit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If true and it exists, the best fit model from
self.images[‘image’].fits.model is plotted</li>
<li><strong>showMicro</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If true and it exists, the simulated microlensing is plotted
as well</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>figure</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>~matplotlib.pyplot.figure</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sntd.curve_io.curveDict.table">
<code class="descname">table</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curveDict.table" title="Permalink to this definition">¶</a></dt>
<dd><p>~astropy.table.Table
&#64;ivar: The astropy table containing all of the data in your data file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sntd.curve_io.curveDict.telescopename">
<code class="descname">telescopename</code><em class="property"> = None</em><a class="headerlink" href="#sntd.curve_io.curveDict.telescopename" title="Permalink to this definition">¶</a></dt>
<dd><p>str
&#64;ivar: Name of the telescope that the data were gathered from</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">&#64;type</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sntd.curve_io.read_data">
<code class="descclassname">sntd.curve_io.</code><code class="descname">read_data</code><span class="sig-paren">(</span><em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#read_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.read_data" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Used to read a light curve or curve object in pickle format.</dt>
<dd>Either way, it’ll come out as a curve object.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the file to be read (ascii or pickle)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>curve</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><cite>~sntd.curve</cite> or <cite>~sntd.curveDict</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sntd.curve_io.write_data">
<code class="descclassname">sntd.curve_io.</code><code class="descname">write_data</code><span class="sig-paren">(</span><em>curves</em>, <em>filename=None</em>, <em>protocol=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#write_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.write_data" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Used to write a curveDict object to a pickle</dt>
<dd>to be read later</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>curves</strong> (<cite>~sntd.curveDict</cite>) – </li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of output file</li>
<li><strong>protocol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Pickling protocol</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sntd.curve_io.table_factory">
<code class="descclassname">sntd.curve_io.</code><code class="descname">table_factory</code><span class="sig-paren">(</span><em>table</em>, <em>telescopename='Unknown'</em>, <em>object=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/curve_io.html#table_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.curve_io.table_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will create a new curve object using an astropy table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>table</strong> (<cite>~astropy.table.Table</cite>) – Astropy table with all of your data from your data file.</li>
<li><strong>telescopename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of telescope for labeling purposes inside curve object</li>
<li><strong>object</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of object for labeling purposes inside curve object
(e.g. SN2006jf, etc.)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>curve</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>~sntd.curve</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-sntd.ml">
<span id="microlensing"></span><h2>Microlensing<a class="headerlink" href="#module-sntd.ml" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sntd.ml.AchromaticMicrolensing">
<em class="property">class </em><code class="descclassname">sntd.ml.</code><code class="descname">AchromaticMicrolensing</code><span class="sig-paren">(</span><em>time</em>, <em>dmag</em>, <em>sigma=None</em>, <em>magformat='multiply'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#AchromaticMicrolensing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.AchromaticMicrolensing" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulated microlensing magnification, read in from an external
data file.  The input data file must provide a column for SN phase
and magnification (no wavelength dependence).</p>
<dl class="method">
<dt id="sntd.ml.AchromaticMicrolensing.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>phase</em>, <em>wave</em>, <em>flux</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#AchromaticMicrolensing.propagate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.AchromaticMicrolensing.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the magnification onto the model’s flux output.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sntd.ml.AchromaticSplineMicrolensing">
<em class="property">class </em><code class="descclassname">sntd.ml.</code><code class="descname">AchromaticSplineMicrolensing</code><span class="sig-paren">(</span><em>nanchor=10</em>, <em>sigmadm=2.0</em>, <em>nspl=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#AchromaticSplineMicrolensing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.AchromaticSplineMicrolensing" title="Permalink to this definition">¶</a></dt>
<dd><p>Average of randomly anchored splines, to mimic microlensing.
We create a mock microlensing difference curve, giving the change in
magnitude as a function of time (no variation with wavelength).
A set of <cite>nspl</cite> splines are generated, each passing through <cite>nanchor</cite>
anchor points, evenly spaced in time, and with y values (representing
Delta magnitude) randomly drawn from a normal distribution with varance
equal to <cite>sigmadm</cite> squared.  The final delta magnitude curve is the mean
of the set of these <cite>nspl</cite> random spline curves.
Caveat emptor: this is just a crude hack. It looks like a reasonable
approximation for achromatic SN microlensing, but it is not actually
derived from a real lensing simulation.</p>
<dl class="method">
<dt id="sntd.ml.AchromaticSplineMicrolensing.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>phase</em>, <em>wave</em>, <em>flux</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#AchromaticSplineMicrolensing.propagate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.AchromaticSplineMicrolensing.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the magnification onto the model’s flux output.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sntd.ml.ChromaticSplineMicrolensing">
<em class="property">class </em><code class="descclassname">sntd.ml.</code><code class="descname">ChromaticSplineMicrolensing</code><span class="sig-paren">(</span><em>nanchor=100</em>, <em>sigmadm=2.0</em>, <em>nspl=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#ChromaticSplineMicrolensing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.ChromaticSplineMicrolensing" title="Permalink to this definition">¶</a></dt>
<dd><p>Average of randomly anchored splines, to mimic microlensing.
We create a mock microlensing difference curve as is done for
AchromaticSplineMicrolensing, giving the change in
magnitude as a function of time. Then we add variation with wavelength
by adding a two-dimensional polynomial to the delta mag surface.</p>
<p>Caveat emptor: this is just a crude hack. It looks like a reasonable
approximation for SN microlensing including wavelength variation, but it
is not actually derived from a real lensing simulation.</p>
<p>Note that the “microlensing” this produces does not have any range of
SN phase in which the microlensing is achromatic.</p>
<dl class="method">
<dt id="sntd.ml.ChromaticSplineMicrolensing.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>phase</em>, <em>wave</em>, <em>flux</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#ChromaticSplineMicrolensing.propagate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.ChromaticSplineMicrolensing.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the magnification onto the model’s flux output.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sntd.ml.PeakAchromaticMicrolensing">
<em class="property">class </em><code class="descclassname">sntd.ml.</code><code class="descname">PeakAchromaticMicrolensing</code><span class="sig-paren">(</span><em>time</em>, <em>magformat='multiply'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#PeakAchromaticMicrolensing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.PeakAchromaticMicrolensing" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulated microlensing magnification, read in from an external
data file.  The input data file must provide a column for SN phase
and magnification (no wavelength dependence).</p>
<dl class="method">
<dt id="sntd.ml.PeakAchromaticMicrolensing.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>phase</em>, <em>wave</em>, <em>flux</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sntd/ml.html#PeakAchromaticMicrolensing.propagate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sntd.ml.PeakAchromaticMicrolensing.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the magnification onto the model’s flux output.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="examples.html" class="btn btn-neutral" title="Simulating with SNTD" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Justin Pierel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>